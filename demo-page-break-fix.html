<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Fix Page Break</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="../jspdf-service.js"></script>
</head>
<body>
    <h1>Demo Fix Page Break - Numbered List</h1>
    <p>Demonstrate the fix for page break issues in numbered list items</p>
    
    <button onclick="testPageBreakFix()" style="background: #4CAF50; color: white; padding: 15px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 10px;">
        ğŸš€ Test Page Break Fix
    </button>
    
    <script>
        function testPageBreakFix() {
            const pdf = new JsPdfService();
            
            pdf.addTitle("Kiá»ƒm Tra Page Break Fix");
            pdf.addSpace(10);
            
            // ThÃªm nhiá»u content Ä‘á»ƒ Ä‘áº©y xuá»‘ng gáº§n cuá»‘i trang
            pdf.addText("CÃ¡c dÃ²ng filler Ä‘á»ƒ Ä‘áº©y content xuá»‘ng gáº§n cuá»‘i trang:", null, null, {
                fontSize: 12,
                fontStyle: "bold"
            });
            
            for (let i = 1; i <= 35; i++) {
                pdf.addText(`DÃ²ng ${i}: Lorem ipsum dolor sit amet, consectetur adipiscing elit.`, null, null, {
                    fontSize: 9
                });
            }
            
            pdf.addSpace(5);
            pdf.addText("===== DANH SÃCH Vá»šI ITEMS DÃ€I =====", null, null, {
                fontSize: 12,
                fontStyle: "bold",
                align: "center"
            });
            pdf.addSpace(3);
            
            // Danh sÃ¡ch vá»›i items ráº¥t dÃ i - sáº½ test page break
            pdf.addNumberedList([
                "Item Ä‘áº§u tiÃªn cÃ³ ná»™i dung ráº¥t ráº¥t dÃ i Ä‘á»ƒ test page break. TrÆ°á»›c khi fix, item nÃ y cÃ³ thá»ƒ cháº¡y xuá»‘ng cuá»‘i trang vÃ  khÃ´ng Ä‘Æ°á»£c kiá»ƒm tra page break Ä‘Ãºng cÃ¡ch, dáº«n tá»›i viá»‡c text bá»‹ overflow qua lá» dÆ°á»›i cá»§a trang. Sau khi fix, má»—i dÃ²ng sáº½ Ä‘Æ°á»£c kiá»ƒm tra page break riÃªng biá»‡t Ä‘á»ƒ Ä‘áº£m báº£o layout Ä‘áº¹p vÃ  chÃ­nh xÃ¡c.",
                
                "Item thá»© hai cÅ©ng cÃ³ ná»™i dung dÃ i tÆ°Æ¡ng tá»±. Ná»™i dung nÃ y Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ test kháº£ nÄƒng xá»­ lÃ½ page break cá»§a há»‡ thá»‘ng. Vá»›i fix má»›i, hÃ m addNumberedText sáº½ kiá»ƒm tra page break cho má»—i dÃ²ng, khÃ´ng chá»‰ kiá»ƒm tra má»™t láº§n á»Ÿ Ä‘áº§u item nhÆ° trÆ°á»›c Ä‘Ã¢y.",
                
                "Item ngáº¯n Ä‘á»ƒ táº¡o contrast",
                
                "Item cuá»‘i cÃ¹ng vá»›i ná»™i dung cá»±c ká»³ dÃ i Ä‘á»ƒ Ä‘áº£m báº£o ráº±ng fix hoáº¡t Ä‘á»™ng á»•n Ä‘á»‹nh. " + 
                "Text nÃ y Ä‘Æ°á»£c láº·p láº¡i nhiá»u láº§n. ".repeat(15) + 
                "Má»¥c Ä‘Ã­ch lÃ  Ä‘á»ƒ táº¡o ra má»™t item cÃ³ Ä‘á»§ Ä‘á»™ dÃ i Ä‘á»ƒ cÃ³ thá»ƒ span qua nhiá»u dÃ²ng vÃ  test kháº£ nÄƒng page break cá»§a tá»«ng dÃ²ng."
            ], {
                itemOptions: {
                    fontSize: 10,
                    align: "justify",
                    numberStyle: "decimal"
                }
            });
            
            pdf.addSpace(10);
            pdf.addText("âœ… ÄÃ£ fix: Kiá»ƒm tra page break cho má»—i dÃ²ng", null, null, {
                fontSize: 11,
                color: [0, 150, 0],
                fontStyle: "bold"
            });
            
            pdf.previewPDF();
        }
        
        console.log("Demo Page Break Fix ready!");
    </script>
</body>
</html>